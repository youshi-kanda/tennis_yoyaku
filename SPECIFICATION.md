# å“å·åŒºãƒ»æ¸¯åŒº æ–½è¨­äºˆç´„è‡ªå‹•ã‚·ã‚¹ãƒ†ãƒ  æŠ€è¡“ä»•æ§˜æ›¸

**ä½œæˆæ—¥**: 2025å¹´11æœˆ20æ—¥  
**ãƒãƒ¼ã‚¸ãƒ§ãƒ³**: 1.0  
**å¯¾è±¡ã‚·ã‚¹ãƒ†ãƒ **: å“å·åŒºãƒ»æ¸¯åŒº æ–½è¨­äºˆç´„ã‚µã‚¤ãƒˆ

---

## ğŸ“‹ ç›®æ¬¡

1. [ã‚·ã‚¹ãƒ†ãƒ æ¦‚è¦](#ã‚·ã‚¹ãƒ†ãƒ æ¦‚è¦)
2. [å¯¾è±¡ã‚µã‚¤ãƒˆ](#å¯¾è±¡ã‚µã‚¤ãƒˆ)
3. [æŠ€è¡“èª¿æŸ»çµæœ](#æŠ€è¡“èª¿æŸ»çµæœ)
4. [ã‚·ã‚¹ãƒ†ãƒ æ§‹æˆ](#ã‚·ã‚¹ãƒ†ãƒ æ§‹æˆ)
5. [ä¸»è¦æ©Ÿèƒ½](#ä¸»è¦æ©Ÿèƒ½)
6. [å®Ÿè£…è©³ç´°](#å®Ÿè£…è©³ç´°)
7. [ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£](#ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£)
8. [é–‹ç™ºã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«](#é–‹ç™ºã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«)
9. [ã‚³ã‚¹ãƒˆè¦‹ç©ã‚‚ã‚Š](#ã‚³ã‚¹ãƒˆè¦‹ç©ã‚‚ã‚Š)

---

## ã‚·ã‚¹ãƒ†ãƒ æ¦‚è¦

å“å·åŒºãƒ»æ¸¯åŒºã®æ–½è¨­äºˆç´„ã‚µã‚¤ãƒˆã‚’è‡ªå‹•ç›£è¦–ã—ã€æŒ‡å®šæ¡ä»¶ã«åˆè‡´ã™ã‚‹ç©ºãã‚’æ¤œçŸ¥ã—ã¦è‡ªå‹•äºˆç´„ã‚’å®Ÿè¡Œã™ã‚‹ã‚·ã‚¹ãƒ†ãƒ ã€‚

### å¯¾è±¡ãƒ¦ãƒ¼ã‚¹ã‚±ãƒ¼ã‚¹
- ãƒ†ãƒ‹ã‚¹ã‚³ãƒ¼ãƒˆã€ä½“è‚²é¤¨ãªã©ã®æ–½è¨­äºˆç´„
- äºˆç´„é–‹å§‹ç›´å¾Œã®ç«¶äº‰ãŒæ¿€ã—ã„æ ã®ç¢ºä¿
- æŠ½é¸äºˆç´„ã‹ã‚‰ã®åˆ‡æ›¿ï¼ˆå“å·åŒºã€Œå–â†’â—‹ã€ç›£è¦–ï¼‰

---

## å¯¾è±¡ã‚µã‚¤ãƒˆ

### å“å·åŒºæ–½è¨­äºˆç´„ã‚·ã‚¹ãƒ†ãƒ 
- **URL**: https://www.cm9.eprs.jp/shinagawa/web/index.jsp
- **ãƒ™ãƒ³ãƒ€ãƒ¼**: å¯Œå£«é€šï¼ˆæ¨å®šï¼‰
- **ã‚·ã‚¹ãƒ†ãƒ **: EPRS (Electronic Public Reservation System)
- **ç‰¹å¾´**: ã€Œå–ã€ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ï¼ˆæŠ½é¸äºˆç´„ä¸­ï¼‰ã‚ã‚Š

### æ¸¯åŒºæ–½è¨­äºˆç´„ã‚·ã‚¹ãƒ†ãƒ 
- **URL**: https://web101.rsv.ws-scs.jp/web/index.jsp
- **ãƒ™ãƒ³ãƒ€ãƒ¼**: åŒä¸Š
- **ã‚·ã‚¹ãƒ†ãƒ **: åŒä¸€åŸºç›¤
- **ç‰¹å¾´**: å“å·åŒºã¨ã»ã¼åŒã˜HTMLæ§‹é€ 

---

## æŠ€è¡“èª¿æŸ»çµæœ

### âœ… å®Ÿè£…å¯èƒ½æ€§ã®ç¢ºèªäº‹é …

#### 1. CAPTCHAï¼ˆç”»åƒèªè¨¼ï¼‰
- **çµæœ**: âŒ **å­˜åœ¨ã—ãªã„**
- **ç¢ºèªæ–¹æ³•**: HTMLå…¨æ–‡æ¤œç´¢ã€JavaScriptè§£æ
- **å½±éŸ¿**: å®Œå…¨è‡ªå‹•åŒ–ãŒå¯èƒ½

#### 2. CSRFå¯¾ç­–
- **çµæœ**: âŒ **CSRFãƒˆãƒ¼ã‚¯ãƒ³ä¸åœ¨**
- **ç¢ºèªå†…å®¹**: hidden input ã« `csrf_token`ã€`authenticity_token` ãªã—
- **å½±éŸ¿**: ã‚·ãƒ³ãƒ—ãƒ«ãªPOSTãƒªã‚¯ã‚¨ã‚¹ãƒˆã§å¯¾å¿œå¯èƒ½

#### 3. ã‚»ãƒƒã‚·ãƒ§ãƒ³ç®¡ç†
```http
Set-Cookie: JSESSIONID=AxjUOH7xZhGclEUoVUD6DYoJfLWhX3hQ5NKwgLanJ5Zosa...
Path=/shinagawa/web; HttpOnly
SameSite=Lax
```
- **æ–¹å¼**: JSESSIONID (Cookie)
- **å±æ€§**: HttpOnly, SameSite=Lax
- **æœ‰åŠ¹æœŸé™**: æ¨å®š30åˆ†ã€œæ•°æ™‚é–“

#### 4. ã‚·ã‚¹ãƒ†ãƒ åŸºç›¤
- **Framework**: Apache Strutsï¼ˆ`.do` å½¢å¼ã®Action URLï¼‰
- **JSP**: `pawab2000.jsp`, `pawfa1000.jsp` ãªã©
- **JavaScript**: jQuery 3.7.1, Bootstrap 4.x
- **æ–‡å­—ã‚³ãƒ¼ãƒ‰**: Shift_JIS

#### 5. é‡è¦ãªAction URL

**å“å·åŒº:**
```javascript
/shinagawa/web/rsvWTransUserLoginAction.do          // ãƒ­ã‚°ã‚¤ãƒ³
/shinagawa/web/rsvWOpeInstSrchVacantAction.do       // ç©ºãæ¤œç´¢
/shinagawa/web/rsvWOpeReservedApplyAction.do        // äºˆç´„ç”³è¾¼
/shinagawa/web/rsvWUserAttestationLoginAction.do    // ãƒ­ã‚°ã‚¤ãƒ³èªè¨¼
```

**æ¸¯åŒº:**
```javascript
/web/rsvWTransUserLoginAction.do                    // ãƒ­ã‚°ã‚¤ãƒ³
/web/rsvWOpeInstSrchVacantAction.do                 // ç©ºãæ¤œç´¢
/web/rsvWOpeReservedApplyAction.do                  // äºˆç´„ç”³è¾¼
```

---

## ã‚·ã‚¹ãƒ†ãƒ æ§‹æˆ

### ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£å›³

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                                 â”‚
â”‚           Cloudflare Pages (Web UI)             â”‚
â”‚         React + TypeScript + Tailwind           â”‚
â”‚                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                 â”‚ HTTPS API
                 â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                                 â”‚
â”‚         Cloudflare Workers (API)                â”‚
â”‚          - èªè¨¼ãƒ»è¨­å®šç®¡ç†                          â”‚
â”‚          - é€šå¸¸ç›£è¦– (60ç§’é–“éš”)                     â”‚
â”‚          - ãƒ­ã‚°ç®¡ç†                               â”‚
â”‚                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚                            â”‚
         â”‚ KV Read/Write              â”‚ Trigger
         â–¼                            â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                  â”‚      â”‚                      â”‚
â”‚  Workers KV      â”‚      â”‚   Cron Trigger       â”‚
â”‚  - Session       â”‚      â”‚   - 60ç§’é–“éš”         â”‚
â”‚  - User Config   â”‚      â”‚   - æ—¥æ¬¡ã‚¿ã‚¹ã‚¯       â”‚
â”‚  - Logs          â”‚      â”‚                      â”‚
â”‚                  â”‚      â”‚                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â”‚ (Option) Lambda Trigger
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                                 â”‚
â”‚         AWS Lambda (é›†ä¸­ç›£è¦–)                    â”‚
â”‚          - 1ã€œ10ç§’é–“éš”ç›£è¦–                        â”‚
â”‚          - EventBridge Schedule                 â”‚
â”‚          - å“å·åŒºã€Œå–â†’â—‹ã€å°‚ç”¨                     â”‚
â”‚                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                 â”‚
                 â”‚ HTTP POST
                 â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                                 â”‚
â”‚        å“å·åŒºãƒ»æ¸¯åŒº äºˆç´„ã‚µã‚¤ãƒˆ                     â”‚
â”‚                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ä¸»è¦æ©Ÿèƒ½

### 1. é€šå¸¸ç›£è¦–ï¼ˆÃ—â†’â—‹ï¼‰
- **ç›£è¦–é–“éš”**: 60ç§’
- **å®Ÿè£…**: Cloudflare Workers Cron Trigger
- **å¯¾è±¡**: å“å·åŒºãƒ»æ¸¯åŒº
- **å‹•ä½œ**:
  1. æŒ‡å®šæ–½è¨­ãƒ»æ›œæ—¥ãƒ»æ™‚é–“å¸¯ã®ç©ºãçŠ¶æ³ã‚’å–å¾—
  2. ã€ŒÃ—ã€â†’ã€Œâ—‹ã€ã®å¤‰åŒ–ã‚’æ¤œçŸ¥
  3. å³åº§ã«äºˆç´„ãƒ•ãƒ­ãƒ¼ã‚’å®Ÿè¡Œ

### 2. é›†ä¸­ç›£è¦–ï¼ˆå–â†’â—‹ï¼‰å“å·åŒºå°‚ç”¨
- **ç›£è¦–é–“éš”**: 1ã€œ10ç§’ï¼ˆè¨­å®šå¯èƒ½ï¼‰
- **å®Ÿè£…**: AWS Lambda + EventBridge
- **ãƒˆãƒªã‚¬ãƒ¼æ™‚åˆ»**: æ¯æ™‚10åˆ†Â±30ç§’
- **å‹•ä½œ**:
  1. ã€Œå–ã€ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ã®æ–½è¨­ã‚’äº‹å‰ç™»éŒ²
  2. æŒ‡å®šæ™‚åˆ»ã«é«˜é »åº¦ç›£è¦–ã‚’é–‹å§‹
  3. ã€Œå–ã€â†’ã€Œâ—‹ã€ã‚’æ¤œçŸ¥ã—ãŸã‚‰å³åº§ã«äºˆç´„

### 3. è‡ªå‹•äºˆç´„ãƒ•ãƒ­ãƒ¼
å“å·åŒºã®äºˆç´„ã¯ä»¥ä¸‹ã®5æ®µéšï¼š
```
1. ãƒ­ã‚°ã‚¤ãƒ³èªè¨¼
2. ç©ºãæ¤œç´¢
3. äºˆç´„è¦ç´„ç”»é¢ï¼ˆåŒæ„ï¼‰
4. äºˆç´„ç¢ºèªç”»é¢ï¼ˆäººæ•°å…¥åŠ›ï¼‰
5. äºˆç´„ç¢ºå®š
```

æ¸¯åŒºã¯è¦ç´„ç”»é¢ãŒãªã„ãŸã‚4æ®µéšã€‚

### 4. Webç®¡ç†ç”»é¢
- ãƒ­ã‚°ã‚¤ãƒ³ï¼ˆåˆ©ç”¨è€…ç•ªå·ãƒ»ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ç™»éŒ²ï¼‰
- ç›£è¦–æ¡ä»¶è¨­å®šï¼ˆæ–½è¨­ãƒ»æ›œæ—¥ãƒ»æ™‚é–“å¸¯ï¼‰
- ç›£è¦–ON/OFFåˆ‡ã‚Šæ›¿ãˆ
- äºˆç´„å±¥æ­´ãƒ»ãƒ­ã‚°è¡¨ç¤º
- é€šçŸ¥è¨­å®šï¼ˆãƒ¡ãƒ¼ãƒ«ãƒ»LINEï¼‰

---

## å®Ÿè£…è©³ç´°

### ãƒ‡ãƒ¼ã‚¿ãƒ•ãƒ­ãƒ¼

#### ãƒ­ã‚°ã‚¤ãƒ³å‡¦ç†
```typescript
// Cloudflare Workers
const login = async (userId: string, password: string) => {
  const response = await fetch(
    'https://www.cm9.eprs.jp/shinagawa/web/rsvWUserAttestationLoginAction.do',
    {
      method: 'POST',
      headers: {
        'Content-Type': 'application/x-www-form-urlencoded',
        'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) Chrome/120.0.0.0'
      },
      body: new URLSearchParams({
        userId: userId,
        password: password
      })
    }
  );
  
  // JSESSIONID ã‚’æŠ½å‡º
  const cookies = response.headers.get('set-cookie');
  const jsessionid = extractJSESSIONID(cookies);
  
  // Workers KV ã«æš—å·åŒ–ã—ã¦ä¿å­˜
  await KV.put(`session:${userId}`, jsessionid, {
    expirationTtl: 3600 // 1æ™‚é–“
  });
  
  return jsessionid;
};
```

#### ç©ºãçŠ¶æ³ãƒã‚§ãƒƒã‚¯
```typescript
const checkAvailability = async (jsessionid: string, conditions: SearchConditions) => {
  const response = await fetch(
    'https://www.cm9.eprs.jp/shinagawa/web/rsvWOpeInstSrchVacantAction.do',
    {
      method: 'POST',
      headers: {
        'Content-Type': 'application/x-www-form-urlencoded',
        'Cookie': `JSESSIONID=${jsessionid}`
      },
      body: new URLSearchParams({
        selectAreaBcd: conditions.facility,
        daystart: conditions.date,
        days: '7',
        // ... ãã®ä»–ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿
      })
    }
  );
  
  const html = await response.text();
  
  // HTMLãƒ‘ãƒ¼ã‚¹ã—ã¦ â—‹/Ã—/å– ã‚’åˆ¤å®š
  const availability = parseAvailabilityTable(html);
  return availability;
};

const parseAvailabilityTable = (html: string) => {
  // Shift_JIS ã®HTMLã‚’ãƒ‘ãƒ¼ã‚¹
  const parser = new DOMParser();
  const doc = parser.parseFromString(html, 'text/html');
  
  const results = [];
  const rows = doc.querySelectorAll('table.availability-table tr');
  
  rows.forEach(row => {
    const status = row.querySelector('td.status')?.textContent?.trim();
    if (status === 'â—‹') {
      results.push({
        facility: row.querySelector('td.facility')?.textContent,
        time: row.querySelector('td.time')?.textContent,
        available: true
      });
    }
  });
  
  return results;
};
```

#### äºˆç´„å®Ÿè¡Œ
```typescript
const makeReservation = async (jsessionid: string, slot: AvailableSlot) => {
  // 1. è¦ç´„ç”»é¢
  await fetch('...è¦ç´„Action...', { /* Cookieä»˜ã */ });
  
  // 2. ç¢ºèªç”»é¢ï¼ˆäººæ•°å…¥åŠ›ï¼‰
  await fetch('...ç¢ºèªAction...', {
    body: new URLSearchParams({
      numberOfPeople: '4',
      // ...
    })
  });
  
  // 3. äºˆç´„ç¢ºå®š
  const result = await fetch('...äºˆç´„ç¢ºå®šAction...', { /* ... */ });
  
  // 4. çµæœã‚’ãƒ­ã‚°ã«ä¿å­˜
  await saveLog({
    type: 'reservation',
    status: result.ok ? 'success' : 'failed',
    facility: slot.facility,
    time: slot.time,
    timestamp: new Date().toISOString()
  });
  
  return result.ok;
};
```

### ãƒ‡ãƒ¼ã‚¿æ§‹é€ 

#### Workers KV Schema
```typescript
// ã‚»ãƒƒã‚·ãƒ§ãƒ³ç®¡ç†
key: `session:${userId}`
value: {
  jsessionid: string;
  lastLogin: string;
  expiresAt: string;
}

// ãƒ¦ãƒ¼ã‚¶ãƒ¼è¨­å®š
key: `config:${userId}`
value: {
  shinagawa: {
    enabled: boolean;
    facilities: string[];
    days: number[];  // 0=æ—¥, 1=æœˆ, ...
    timeSlots: string[];  // "09:00-11:00"
    intensiveMonitor: {
      enabled: boolean;
      targetTime: "10:00";  // æ¯æ™‚10åˆ†
      interval: 1;  // ç§’
    }
  };
  minato: {
    enabled: boolean;
    // ...
  };
}

// ãƒ­ã‚°
key: `log:${userId}:${timestamp}`
value: {
  type: 'login' | 'check' | 'reservation' | 'error';
  status: 'success' | 'failed';
  message: string;
  details: object;
}
```

---

## ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£

### 1. èªè¨¼æƒ…å ±ã®ä¿è­·
- **Workers Secrets**: ID/ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ã¯ç’°å¢ƒå¤‰æ•°ã«ä¿å­˜
- **KVæš—å·åŒ–**: ã‚»ãƒƒã‚·ãƒ§ãƒ³æƒ…å ±ã¯ AES-256 ã§æš—å·åŒ–
- **ã‚¢ã‚¯ã‚»ã‚¹åˆ¶é™**: Web UI ã¯ Basic èªè¨¼ã¾ãŸã¯ç‹¬è‡ªãƒ­ã‚°ã‚¤ãƒ³

### 2. é€šä¿¡ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£
- **HTTPSå¿…é ˆ**: ã™ã¹ã¦ã®é€šä¿¡ã‚’æš—å·åŒ–
- **User-Agentå½è£…**: æ­£è¦ãƒ–ãƒ©ã‚¦ã‚¶ã¨ã—ã¦æŒ¯ã‚‹èˆã†
- **Rate Limiting**: éåº¦ãªãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’é˜²æ­¢

### 3. ãƒ­ã‚°ç®¡ç†
- **å€‹äººæƒ…å ±é™¤å¤–**: ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ã¯è¨˜éŒ²ã—ãªã„
- **ä¿å­˜æœŸé–“**: 90æ—¥é–“ã§è‡ªå‹•å‰Šé™¤
- **ã‚¢ã‚¯ã‚»ã‚¹ãƒ­ã‚°**: ç®¡ç†ç”»é¢ã®æ“ä½œå±¥æ­´ã‚’è¨˜éŒ²

---

## é–‹ç™ºã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«

### Phase 1: MVPï¼ˆ3é€±é–“ï¼‰
- **Week 1**: ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰åŸºç›¤æ§‹ç¯‰
  - Workers ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆåˆæœŸåŒ–
  - ãƒ­ã‚°ã‚¤ãƒ³ãƒ»ã‚»ãƒƒã‚·ãƒ§ãƒ³ç®¡ç†å®Ÿè£…
  - ç©ºãæ¤œç´¢ãƒ­ã‚¸ãƒƒã‚¯å®Ÿè£…
- **Week 2**: è‡ªå‹•äºˆç´„ãƒ•ãƒ­ãƒ¼å®Ÿè£…
  - äºˆç´„å‡¦ç†ã®å®Œå…¨è‡ªå‹•åŒ–
  - ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°
  - é€šå¸¸ç›£è¦–ï¼ˆ60ç§’é–“éš”ï¼‰
- **Week 3**: Webç®¡ç†ç”»é¢
  - React UI å®Ÿè£…
  - è¨­å®šç”»é¢ãƒ»ãƒ­ã‚°è¡¨ç¤º
  - ãƒ‡ãƒ—ãƒ­ã‚¤ãƒ»ãƒ†ã‚¹ãƒˆ

### Phase 2: å®Œå…¨ç‰ˆï¼ˆ+2é€±é–“ï¼‰
- **Week 4**: é›†ä¸­ç›£è¦–å®Ÿè£…
  - AWS Lambda ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—
  - EventBridge ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«è¨­å®š
  - 1ç§’ç›£è¦–ã®å‹•ä½œç¢ºèª
- **Week 5**: æ¸¯åŒºå¯¾å¿œãƒ»æœ€çµ‚èª¿æ•´
  - æ¸¯åŒºãƒ­ã‚¸ãƒƒã‚¯ã®è¿½åŠ 
  - é€šçŸ¥æ©Ÿèƒ½ï¼ˆãƒ¡ãƒ¼ãƒ«ãƒ»LINEï¼‰
  - æœ¬ç•ªé‹ç”¨é–‹å§‹

---

## ã‚³ã‚¹ãƒˆè¦‹ç©ã‚‚ã‚Š

### ãƒ©ãƒ³ãƒ‹ãƒ³ã‚°ã‚³ã‚¹ãƒˆï¼ˆæœˆé¡ï¼‰

#### ãƒ‘ã‚¿ãƒ¼ãƒ³A: Cloudflare Workers ã®ã¿ï¼ˆé€šå¸¸ç›£è¦–ï¼‰
| é …ç›® | å†…å®¹ | æ–™é‡‘ |
|------|------|------|
| Cloudflare Workers | 10ä¸‡ãƒªã‚¯ã‚¨ã‚¹ãƒˆ/æ—¥ | **$0** (ç„¡æ–™æ ) |
| Workers KV | 1GB ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸ | **$0.50** |
| Cloudflare Pages | é™çš„ãƒ›ã‚¹ãƒ†ã‚£ãƒ³ã‚° | **$0** (ç„¡æ–™æ ) |
| **åˆè¨ˆ** | | **$0.50/æœˆ** |

#### ãƒ‘ã‚¿ãƒ¼ãƒ³B: Workers + Lambdaï¼ˆ1ç§’é›†ä¸­ç›£è¦–ï¼‰
| é …ç›® | å†…å®¹ | æ–™é‡‘ |
|------|------|------|
| Cloudflare Workers | é€šå¸¸ç›£è¦– | **$0** |
| Workers KV | 1GB ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸ | **$0.50** |
| **AWS Lambda** | **60ç§’Ã—24å›/æ—¥Ã—30æ—¥** | **$5.00** |
| **AWS EventBridge** | **ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«å®Ÿè¡Œ** | **$2.00** |
| Cloudflare Pages | é™çš„ãƒ›ã‚¹ãƒ†ã‚£ãƒ³ã‚° | **$0** |
| **åˆè¨ˆ** | | **$7.50/æœˆ** |

#### ãƒ‘ã‚¿ãƒ¼ãƒ³C: Workers + Lambdaï¼ˆ10ç§’é›†ä¸­ç›£è¦–ï¼‰
| é …ç›® | å†…å®¹ | æ–™é‡‘ |
|------|------|------|
| Cloudflare Workers | é€šå¸¸ç›£è¦– | **$0** |
| Workers KV | 1GB ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸ | **$0.50** |
| **AWS Lambda** | **6ç§’Ã—24å›/æ—¥Ã—30æ—¥** | **$1.00** |
| **AWS EventBridge** | **ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«å®Ÿè¡Œ** | **$2.00** |
| Cloudflare Pages | é™çš„ãƒ›ã‚¹ãƒ†ã‚£ãƒ³ã‚° | **$0** |
| **åˆè¨ˆ** | | **$3.50/æœˆ** |

### é–‹ç™ºè²»ç”¨ï¼ˆä»•æ§˜æ›¸ãƒ™ãƒ¼ã‚¹ï¼‰
| ãƒ—ãƒ©ãƒ³ | å†…å®¹ | æ–™é‡‘ |
|--------|------|------|
| å“å·åŒºã®ã¿ | Phase 1 (MVP) | **Â¥90,000** |
| å“å·åŒº + æ¸¯åŒº | Phase 1 + æ¸¯åŒºå¯¾å¿œ | **Â¥115,000** |
| å®Œå…¨ç‰ˆ | Phase 1 + Phase 2 (é›†ä¸­ç›£è¦–è¾¼) | **Â¥150,000** |

---

## ãƒªã‚¹ã‚¯ã¨å¯¾ç­–

### ãƒªã‚¹ã‚¯1: ã‚»ãƒƒã‚·ãƒ§ãƒ³ã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆ
- **å¯¾ç­–**: å®šæœŸçš„ãªå†ãƒ­ã‚°ã‚¤ãƒ³ï¼ˆ30åˆ†ã”ã¨ï¼‰
- **å®Ÿè£…**: Cron ã§è‡ªå‹•ãƒ­ã‚°ã‚¤ãƒ³å®Ÿè¡Œ

### ãƒªã‚¹ã‚¯2: ã‚µã‚¤ãƒˆãƒ¡ãƒ³ãƒ†ãƒŠãƒ³ã‚¹
- **å¯¾ç­–**: ã‚¨ãƒ©ãƒ¼ã‚’æ¤œçŸ¥ã—ãŸã‚‰ç›£è¦–ã‚’ä¸€æ™‚åœæ­¢
- **å®Ÿè£…**: 3å›é€£ç¶šã‚¨ãƒ©ãƒ¼ã§è‡ªå‹•åœæ­¢ â†’ é€šçŸ¥

### ãƒªã‚¹ã‚¯3: HTMLãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆå¤‰æ›´
- **å¯¾ç­–**: è¤‡æ•°ã®ãƒ‘ãƒ¼ã‚¹æ–¹æ³•ã‚’ç”¨æ„
- **å®Ÿè£…**: ã‚»ãƒ¬ã‚¯ã‚¿ + æ­£è¦è¡¨ç¾ã®ä½µç”¨

### ãƒªã‚¹ã‚¯4: IPåˆ¶é™ãƒ»Rate Limiting
- **å¯¾ç­–**: ãƒªã‚¯ã‚¨ã‚¹ãƒˆé–“éš”ã‚’èª¿æ•´
- **å®Ÿè£…**: 60ç§’ç›£è¦– + å¿…è¦æ™‚ã®ã¿1ç§’ç›£è¦–

---

## ä»˜éŒ²

### å‚è€ƒURL
- å“å·åŒºã‚·ã‚¹ãƒ†ãƒ : https://www.cm9.eprs.jp/shinagawa/web/index.jsp
- æ¸¯åŒºã‚·ã‚¹ãƒ†ãƒ : https://web101.rsv.ws-scs.jp/web/index.jsp
- Cloudflare Workers Docs: https://developers.cloudflare.com/workers/
- AWS Lambda Pricing: https://aws.amazon.com/lambda/pricing/

### é–‹ç™ºç’°å¢ƒ
- Node.js 20.x
- TypeScript 5.x
- Wrangler CLI 3.x
- React 18.x
- Tailwind CSS 3.x

---

**ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆç®¡ç†**
- æœ€çµ‚æ›´æ–°: 2025å¹´11æœˆ20æ—¥
- ä½œæˆè€…: GitHub Copilot
- ãƒ¬ãƒ“ãƒ¥ãƒ¼: æœªå®Ÿæ–½
