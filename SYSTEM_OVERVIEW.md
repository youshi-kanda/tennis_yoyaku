# ãƒ†ãƒ‹ã‚¹ã‚³ãƒ¼ãƒˆè‡ªå‹•äºˆç´„ã‚·ã‚¹ãƒ†ãƒ  - ã‚·ã‚¹ãƒ†ãƒ æ¦‚è¦

## ğŸ“‹ ç›®æ¬¡
1. [ã‚·ã‚¹ãƒ†ãƒ æ¦‚è¦](#ã‚·ã‚¹ãƒ†ãƒ æ¦‚è¦)
2. [ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£](#ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£)
3. [æŠ€è¡“ã‚¹ã‚¿ãƒƒã‚¯](#æŠ€è¡“ã‚¹ã‚¿ãƒƒã‚¯)
4. [ä¸»è¦æ©Ÿèƒ½](#ä¸»è¦æ©Ÿèƒ½)
5. [ãƒ‡ãƒ¼ã‚¿æ§‹é€ ](#ãƒ‡ãƒ¼ã‚¿æ§‹é€ )
6. [APIä»•æ§˜](#apiä»•æ§˜)
7. [ãƒ‡ãƒ—ãƒ­ã‚¤æƒ…å ±](#ãƒ‡ãƒ—ãƒ­ã‚¤æƒ…å ±)
8. [é–‹ç™ºç’°å¢ƒ](#é–‹ç™ºç’°å¢ƒ)

---

## ã‚·ã‚¹ãƒ†ãƒ æ¦‚è¦

### ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆå
**ãƒ†ãƒ‹ã‚¹ã‚³ãƒ¼ãƒˆè‡ªå‹•äºˆç´„ã‚·ã‚¹ãƒ†ãƒ  (Tennis Court Auto-Reservation System)**

### ç›®çš„
å“å·åŒºãƒ»æ¸¯åŒºã®ãƒ†ãƒ‹ã‚¹ã‚³ãƒ¼ãƒˆäºˆç´„ã‚µã‚¤ãƒˆã‚’ç›£è¦–ã—ã€ã‚­ãƒ£ãƒ³ã‚»ãƒ«æ ãŒå‡ºãŸéš›ã«è‡ªå‹•ã§äºˆç´„ã‚’è¡Œã†ã‚·ã‚¹ãƒ†ãƒ 

**å¯¾è±¡æ–½è¨­**: ç¾çŠ¶ã¯ãƒ†ãƒ‹ã‚¹ã‚³ãƒ¼ãƒˆã®ã¿å¯¾è±¡ï¼ˆå°†æ¥çš„ã«ä½“è‚²é¤¨ãƒ»é‡çƒå ´ç­‰ã«æ‹¡å¼µå¯èƒ½ï¼‰

### å¯¾è±¡ã‚µã‚¤ãƒˆ
- **å“å·åŒº**: https://www.shinagawa-yoyaku.jp/
- **æ¸¯åŒº**: https://yoyaku.city.minato.tokyo.jp/

### ä¸»ãªç‰¹å¾´
- ğŸ”„ 5åˆ†é–“éš”ã§ã®è‡ªå‹•ç›£è¦–
- ğŸ“± PWAå¯¾å¿œï¼ˆã‚ªãƒ•ãƒ©ã‚¤ãƒ³æ©Ÿèƒ½ã€ãƒ—ãƒƒã‚·ãƒ¥é€šçŸ¥ï¼‰
- ğŸŒ ç¥æ—¥å¯¾å¿œï¼ˆç¥æ—¥ã®ã¿/ç¥æ—¥ã‚’å«ã‚€/ç¥æ—¥ã‚’é™¤å¤–ï¼‰
- ğŸ“… æ›œæ—¥æŒ‡å®šç›£è¦–
- ğŸ¯ å„ªå…ˆåº¦è¨­å®šã«ã‚ˆã‚‹è¤‡æ•°æ–½è¨­ç›£è¦–
- ğŸš€ 3ã‚¹ãƒ†ãƒƒãƒ—ã‚¦ã‚£ã‚¶ãƒ¼ãƒ‰UIã«ã‚ˆã‚‹ç°¡å˜è¨­å®š

---

## ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£

### ã‚·ã‚¹ãƒ†ãƒ æ§‹æˆå›³
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      User (Browser)                         â”‚
â”‚                   PWA (Next.js 15 App)                      â”‚
â”‚              https://pwa-*.vercel.app                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                      â”‚ HTTPS
                      â”‚ REST API
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              Cloudflare Workers                             â”‚
â”‚       https://tennis-yoyaku-api.*.workers.dev               â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ â€¢ JWTèªè¨¼                                             â”‚  â”‚
â”‚  â”‚ â€¢ ã‚»ãƒƒã‚·ãƒ§ãƒ³ç®¡ç†                                      â”‚  â”‚
â”‚  â”‚ â€¢ ç›£è¦–ãƒ­ã‚¸ãƒƒã‚¯ (Cron: */5 * * * *)                  â”‚  â”‚
â”‚  â”‚ â€¢ ã‚¹ã‚¯ãƒ¬ã‚¤ãƒ”ãƒ³ã‚°                                      â”‚  â”‚
â”‚  â”‚ â€¢ äºˆç´„å®Ÿè¡Œ                                            â”‚  â”‚
â”‚  â”‚ â€¢ ãƒ—ãƒƒã‚·ãƒ¥é€šçŸ¥ (Web Push)                            â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚              KV Namespaces (Storage)                  â”‚  â”‚
â”‚  â”‚ â€¢ USERS: ãƒ¦ãƒ¼ã‚¶ãƒ¼æƒ…å ±ãƒ»è¨­å®š                          â”‚  â”‚
â”‚  â”‚ â€¢ SESSIONS: ãƒ­ã‚°ã‚¤ãƒ³ã‚»ãƒƒã‚·ãƒ§ãƒ³                       â”‚  â”‚
â”‚  â”‚ â€¢ MONITORING: ç›£è¦–ã‚¿ãƒ¼ã‚²ãƒƒãƒˆ                         â”‚  â”‚
â”‚  â”‚ â€¢ RESERVATIONS: äºˆç´„å±¥æ­´                             â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                      â”‚
                      â”‚ HTTPS (Scraping)
                      â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              Target Reservation Sites                       â”‚
â”‚  â€¢ shinagawa-yoyaku.jp                                      â”‚
â”‚  â€¢ yoyaku.city.minato.tokyo.jp                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### ãƒ‡ãƒ¼ã‚¿ãƒ•ãƒ­ãƒ¼
1. **ãƒ¦ãƒ¼ã‚¶ãƒ¼æ“ä½œ** â†’ PWA â†’ Workers API
2. **Cronå®Ÿè¡Œ** (5åˆ†æ¯) â†’ Workers â†’ ç›£è¦–å®Ÿè¡Œ â†’ ã‚¹ã‚¯ãƒ¬ã‚¤ãƒ”ãƒ³ã‚°
3. **ã‚­ãƒ£ãƒ³ã‚»ãƒ«æ¤œçŸ¥** â†’ è‡ªå‹•äºˆç´„ â†’ ãƒ—ãƒƒã‚·ãƒ¥é€šçŸ¥ â†’ ãƒ¦ãƒ¼ã‚¶ãƒ¼

---

## æŠ€è¡“ã‚¹ã‚¿ãƒƒã‚¯

### ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ (PWA)
| æŠ€è¡“ | ãƒãƒ¼ã‚¸ãƒ§ãƒ³ | ç”¨é€” |
|------|-----------|------|
| Next.js | 15.1.0 | React ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ |
| React | 19.x | UI ãƒ©ã‚¤ãƒ–ãƒ©ãƒª |
| TypeScript | 5.x | å‹å®‰å…¨æ€§ |
| Tailwind CSS | 3.x | ã‚¹ã‚¿ã‚¤ãƒªãƒ³ã‚° |
| Zustand | - | çŠ¶æ…‹ç®¡ç† |
| Service Worker | - | ã‚ªãƒ•ãƒ©ã‚¤ãƒ³å¯¾å¿œãƒ»ãƒ—ãƒƒã‚·ãƒ¥é€šçŸ¥ |

### ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ (Workers)
| æŠ€è¡“ | ãƒãƒ¼ã‚¸ãƒ§ãƒ³ | ç”¨é€” |
|------|-----------|------|
| Cloudflare Workers | - | ã‚µãƒ¼ãƒãƒ¼ãƒ¬ã‚¹å®Ÿè¡Œç’°å¢ƒ |
| Wrangler | 3.114.15 | ãƒ‡ãƒ—ãƒ­ã‚¤ãƒ„ãƒ¼ãƒ« |
| KV (Key-Value) | - | ãƒ‡ãƒ¼ã‚¿ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸ |
| Cron Triggers | - | å®šæœŸå®Ÿè¡Œ (5åˆ†é–“éš”) |
| Web Push | - | ãƒ—ãƒƒã‚·ãƒ¥é€šçŸ¥ |
| jose | - | JWTèªè¨¼ |

### ã‚¤ãƒ³ãƒ•ãƒ©
| ã‚µãƒ¼ãƒ“ã‚¹ | ç”¨é€” |
|---------|------|
| Vercel | PWAãƒ›ã‚¹ãƒ†ã‚£ãƒ³ã‚° |
| Cloudflare Workers | APIã‚µãƒ¼ãƒãƒ¼ãƒ»Cronå®Ÿè¡Œ |
| Cloudflare KV | ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ |

---

## ä¸»è¦æ©Ÿèƒ½

### 1. èªè¨¼æ©Ÿèƒ½
- **ãƒ¦ãƒ¼ã‚¶ãƒ¼ç™»éŒ²**: ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹ + ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ (8æ–‡å­—ä»¥ä¸Šã€è‹±æ•°å­—å«ã‚€)
- **ç®¡ç†è€…ç™»éŒ²**: ç®¡ç†è€…ã‚­ãƒ¼ (`tennis_admin_2025`) å¿…è¦
- **JWTèªè¨¼**: ãƒˆãƒ¼ã‚¯ãƒ³ãƒ™ãƒ¼ã‚¹èªè¨¼
- **ã‚»ãƒƒã‚·ãƒ§ãƒ³ç®¡ç†**: 30æ—¥é–“æœ‰åŠ¹

### 2. ç›£è¦–è¨­å®šæ©Ÿèƒ½ï¼ˆ3ã‚¹ãƒ†ãƒƒãƒ—ã‚¦ã‚£ã‚¶ãƒ¼ãƒ‰ï¼‰

#### ã‚¹ãƒ†ãƒƒãƒ—1: æ–½è¨­é¸æŠ
- å“å·åŒºãƒ»æ¸¯åŒºã®æ–½è¨­ã‹ã‚‰è¤‡æ•°é¸æŠ
- åœ°åŒºåˆ¥ã®æ–½è¨­ä¸€è¦§è¡¨ç¤º
- ãƒã‚§ãƒƒã‚¯ãƒœãƒƒã‚¯ã‚¹ã§é¸æŠ

#### ã‚¹ãƒ†ãƒƒãƒ—2: æ—¥æ™‚ãƒ»æ™‚é–“å¸¯è¨­å®š
- **æœŸé–“ãƒ¢ãƒ¼ãƒ‰**:
  - ç‰¹å®šæ—¥: 1æ—¥ã®ã¿ç›£è¦–
  - æœŸé–“æŒ‡å®š: é–‹å§‹æ—¥ã€œçµ‚äº†æ—¥
  - æ¯é€±æ›œæ—¥: ç¶™ç¶šçš„ã«æ›œæ—¥æŒ‡å®šç›£è¦–
- **æ™‚é–“å¸¯é¸æŠ**: è¤‡æ•°é¸æŠå¯èƒ½
  - 09:00-11:00 (åˆå‰æ—©ã‚)
  - 11:00-13:00 (åˆå‰é…ã‚)
  - 13:00-15:00 (åˆå¾Œæ—©ã‚)
  - 15:00-17:00 (åˆå¾Œé…ã‚)
  - 17:00-19:00 (å¤•æ–¹)
  - 19:00-21:00 (å¤œé–“)
- **å„ªå…ˆåº¦**: 1ã€œ10 (è¤‡æ•°ç›£è¦–æ™‚ã®å„ªå…ˆé †ä½)

#### ã‚¹ãƒ†ãƒƒãƒ—3: è©³ç´°è¨­å®š
- **æ›œæ—¥é¸æŠ**: æ¯é€±æ›œæ—¥ãƒ¢ãƒ¼ãƒ‰æ™‚ã«æœ‰åŠ¹
  - å€‹åˆ¥é¸æŠ: æ—¥ã€œåœŸ
  - ãƒ—ãƒªã‚»ãƒƒãƒˆ: å¹³æ—¥ã®ã¿/åœŸæ—¥ã®ã¿/å…¨æ›œæ—¥
- **ç¥æ—¥è¨­å®š**:
  - ç¥æ—¥ã‚’å«ã‚€
  - ç¥æ—¥ã‚’é™¤å¤–
  - ç¥æ—¥ã®ã¿
- **äºˆç´„æˆ¦ç•¥**:
  - ã™ã¹ã¦äºˆç´„: ç©ºããŒå‡ºãŸã‚‰ã™ã¹ã¦äºˆç´„
  - å„ªå…ˆåº¦é †: å„ªå…ˆåº¦ã®é«˜ã„é †ã«1ã¤ãšã¤

### 3. ç›£è¦–æ©Ÿèƒ½
- **è‡ªå‹•ç›£è¦–**: Cron (5åˆ†é–“éš”) ã§å®Ÿè¡Œ
- **ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹è¡¨ç¤º**:
  - ç›£è¦–ä¸­ (monitoring)
  - ã‚­ãƒ£ãƒ³ã‚»ãƒ«æ¤œçŸ¥ (detected)
  - äºˆç´„æˆåŠŸ (reserved)
  - äºˆç´„å¤±æ•— (failed)
- **ã‚»ãƒƒã‚·ãƒ§ãƒ³ç®¡ç†**:
  - è‡ªå‹•ãƒ­ã‚°ã‚¤ãƒ³
  - ã‚»ãƒƒã‚·ãƒ§ãƒ³æœŸé™ç®¡ç† (30åˆ†)
  - æœŸé™åˆ‡ã‚Œæ™‚ã®å†ãƒ­ã‚°ã‚¤ãƒ³

### 4. äºˆç´„æ©Ÿèƒ½
- **è‡ªå‹•äºˆç´„å®Ÿè¡Œ**: ã‚­ãƒ£ãƒ³ã‚»ãƒ«æ¤œçŸ¥æ™‚ã«è‡ªå‹•å®Ÿè¡Œ
- **äºˆç´„æˆ¦ç•¥é©ç”¨**:
  - å…¨äºˆç´„ãƒ¢ãƒ¼ãƒ‰: æ¤œçŸ¥ã—ãŸç©ºãã‚’ã™ã¹ã¦äºˆç´„
  - å„ªå…ˆåº¦é †ãƒ¢ãƒ¼ãƒ‰: å„ªå…ˆåº¦ã®é«˜ã„æ–½è¨­ã‹ã‚‰é †ã«äºˆç´„
- **çµæœè¨˜éŒ²**: æˆåŠŸãƒ»å¤±æ•—ã‚’å±¥æ­´ã«ä¿å­˜

### 5. é€šçŸ¥æ©Ÿèƒ½
- **Web Pushé€šçŸ¥**:
  - ã‚­ãƒ£ãƒ³ã‚»ãƒ«æ¤œçŸ¥æ™‚
  - äºˆç´„æˆåŠŸæ™‚
  - äºˆç´„å¤±æ•—æ™‚
  - ã‚»ãƒƒã‚·ãƒ§ãƒ³æœŸé™åˆ‡ã‚Œæ™‚
- **é€šçŸ¥è¨­å®š**: é€šçŸ¥ã‚¿ã‚¤ãƒ—ã”ã¨ã«æœ‰åŠ¹/ç„¡åŠ¹åˆ‡ã‚Šæ›¿ãˆ

### 6. å±¥æ­´ç®¡ç†
- **äºˆç´„å±¥æ­´**: æ—¥æ™‚ã€æ–½è¨­ã€çµæœã€ã‚¨ãƒ©ãƒ¼å†…å®¹
- **ãƒ•ã‚£ãƒ«ã‚¿ãƒªãƒ³ã‚°**: æˆåŠŸ/å¤±æ•—ã§ãƒ•ã‚£ãƒ«ã‚¿
- **è©³ç´°è¡¨ç¤º**: ã‚¨ãƒ©ãƒ¼è©³ç´°ã®ç¢ºèª

### 7. è¨­å®šç®¡ç†
- **ãƒ­ã‚°ã‚¤ãƒ³æƒ…å ±**:
  - å“å·åŒº: åˆ©ç”¨è€…IDãƒ»ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰
  - æ¸¯åŒº: åˆ©ç”¨è€…IDãƒ»ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰
  - å€‹åˆ¥ä¿å­˜ï¼ˆä¸Šæ›¸ãã›ãšãƒãƒ¼ã‚¸ï¼‰
- **é€šçŸ¥è¨­å®š**: ãƒ—ãƒƒã‚·ãƒ¥é€šçŸ¥ã®æœ‰åŠ¹åŒ–
- **ç›£è¦–è¨­å®š**: è‡ªå‹•äºˆç´„ON/OFF

---

## ãƒ‡ãƒ¼ã‚¿æ§‹é€ 

### User (ãƒ¦ãƒ¼ã‚¶ãƒ¼)
```typescript
interface User {
  id: string;                    // ãƒ¦ãƒ¼ã‚¶ãƒ¼ID (UUID)
  email: string;                 // ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹
  role: 'user' | 'admin';        // ãƒ­ãƒ¼ãƒ«
  createdAt: number;             // ä½œæˆæ—¥æ™‚ (timestamp)
  settings: UserSettings;        // ãƒ¦ãƒ¼ã‚¶ãƒ¼è¨­å®š
}
```

### UserSettings (ãƒ¦ãƒ¼ã‚¶ãƒ¼è¨­å®š)
```typescript
interface UserSettings {
  shinagawa: SiteCredentials;    // å“å·åŒºãƒ­ã‚°ã‚¤ãƒ³æƒ…å ±
  minato: SiteCredentials;       // æ¸¯åŒºãƒ­ã‚°ã‚¤ãƒ³æƒ…å ±
  notifications: NotificationSettings;
  monitoring: MonitoringSettings;
}

interface SiteCredentials {
  username: string;              // åˆ©ç”¨è€…ID
  password: string;              // ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ï¼ˆâš ï¸ç¾åœ¨ã¯å¹³æ–‡ä¿å­˜ã€å°†æ¥çš„ã«AES-256æš—å·åŒ–ã‚’æ¤œè¨ï¼‰
  facilities: string[];          // é¸æŠã—ãŸæ–½è¨­ID
}

// âš ï¸ ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£æ³¨æ„äº‹é …:
// - ç¾åœ¨ã€ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ã¯å¹³æ–‡ã§KVã«ä¿å­˜ã•ã‚Œã¦ã„ã¾ã™
// - æœ¬ç•ªé‹ç”¨ã§ã¯æš—å·åŒ–å®Ÿè£…ã‚’å¼·ãæ¨å¥¨
// - Workers Secretsã«ã¯ä»¥ä¸‹ã‚’ä¿å­˜:
//   - JWT_SECRET: JWTç½²åç”¨ã‚·ãƒ¼ã‚¯ãƒ¬ãƒƒãƒˆ
//   - ADMIN_KEY: ç®¡ç†è€…ç™»éŒ²ã‚­ãƒ¼
//   - VAPID_PRIVATE_KEY: ãƒ—ãƒƒã‚·ãƒ¥é€šçŸ¥ç§˜å¯†éµ

interface NotificationSettings {
  pushEnabled: boolean;          // ãƒ—ãƒƒã‚·ãƒ¥é€šçŸ¥æœ‰åŠ¹
  types: NotificationType[];     // é€šçŸ¥ã‚¿ã‚¤ãƒ—
  pushSubscription?: PushSubscriptionJSON;
}

interface MonitoringSettings {
  enabled: boolean;              // ç›£è¦–æœ‰åŠ¹
  autoReserve: boolean;          // è‡ªå‹•äºˆç´„æœ‰åŠ¹
}
```

### MonitoringTarget (ç›£è¦–ã‚¿ãƒ¼ã‚²ãƒƒãƒˆ)
```typescript
interface MonitoringTarget {
  id: string;                    // ã‚¿ãƒ¼ã‚²ãƒƒãƒˆID (UUID)
  userId: string;                // ãƒ¦ãƒ¼ã‚¶ãƒ¼ID
  site: 'shinagawa' | 'minato';  // ã‚µã‚¤ãƒˆ
  facilityId: string;            // æ–½è¨­ID
  facilityName: string;          // æ–½è¨­å
  date: string;                  // æ—¥ä»˜ (YYYY-MM-DD) â€»å¾Œæ–¹äº’æ›æ€§ã®ãŸã‚æ®‹å­˜
  timeSlots: string[];           // æ™‚é–“å¸¯ ['09:00-11:00', ...]
  priority: number;              // å„ªå…ˆåº¦ (1-10) â€»ç¾åœ¨ã¯å‰Šé™¤æ¸ˆã¿ã€å¾Œæ–¹äº’æ›æ€§ã®ãŸã‚å‹å®šç¾©ã®ã¿æ®‹å­˜
  status: 'monitoring' | 'detected' | 'reserved' | 'failed';
  
  // æœŸé–“ãƒ¢ãƒ¼ãƒ‰ç”¨ï¼ˆdateMode ã«ã‚ˆã‚Šä½¿ç”¨ã™ã‚‹ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ãŒç•°ãªã‚‹ï¼‰
  dateMode?: 'single' | 'range' | 'continuous';
  startDate?: string;            // é–‹å§‹æ—¥
  endDate?: string;              // çµ‚äº†æ—¥
  
  // ğŸ“Œ dateModeåˆ¥ã®å¿…é ˆãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰:
  // - single: date ã®ã¿ä½¿ç”¨
  // - range: startDate + endDate ä½¿ç”¨ã€date ã¯é–‹å§‹æ—¥ã¨åŒã˜å€¤
  // - continuous: startDate + endDate ã‚’å‹•çš„è¨­å®šï¼ˆäºˆç´„å¯èƒ½æœŸé–“ã¾ã§ï¼‰
  
  // æ›œæ—¥æŒ‡å®šç”¨ï¼ˆcontinuousãƒ¢ãƒ¼ãƒ‰ã§ä½¿ç”¨ï¼‰
  selectedWeekdays?: number[];   // [0,1,2,...] (0=æ—¥æ›œ)
  includeHolidays?: boolean | 'only'; // ç¥æ—¥ã®æ‰±ã„
  
  // æˆ¦ç•¥ï¼ˆç¾åœ¨ã¯å‰Šé™¤æ¸ˆã¿ã€å¾Œæ–¹äº’æ›æ€§ã®ãŸã‚å‹å®šç¾©ã®ã¿æ®‹å­˜ï¼‰
  reservationStrategy?: 'all' | 'priority';
  
  createdAt: number;
  updatedAt: number;
}
```

### ReservationHistory (äºˆç´„å±¥æ­´)
```typescript
interface ReservationHistory {
  id: string;
  userId: string;
  site: 'shinagawa' | 'minato';
  facilityId: string;
  facilityName: string;
  date: string;
  timeSlot: string;
  status: 'success' | 'failed';
  message: string;               // çµæœãƒ¡ãƒƒã‚»ãƒ¼ã‚¸
  createdAt: number;
}
```

### Session (ã‚»ãƒƒã‚·ãƒ§ãƒ³)
```typescript
interface SiteSession {
  jsessionid: string;            // ã‚»ãƒƒã‚·ãƒ§ãƒ³ID
  loginTime: number;             // ãƒ­ã‚°ã‚¤ãƒ³æ™‚åˆ»
  expiresAt: number;             // æœŸé™ (loginTime + 30åˆ†)
  site: 'shinagawa' | 'minato';
}
```

---

## APIä»•æ§˜

### ãƒ™ãƒ¼ã‚¹URL
- **Production**: `https://tennis-yoyaku-api.kanda02-1203.workers.dev`
- **Dev**: `http://localhost:8787`

### èªè¨¼
- **æ–¹å¼**: JWT Bearer Token
- **ãƒ˜ãƒƒãƒ€ãƒ¼**: `Authorization: Bearer <token>`

### ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆ

#### 1. èªè¨¼ç³»

##### POST `/auth/register`
ãƒ¦ãƒ¼ã‚¶ãƒ¼ç™»éŒ²

**Request Body:**
```json
{
  "email": "user@example.com",
  "password": "password123",
  "adminKey": "tennis_admin_2025" // optional
}
```

**Response:**
```json
{
  "success": true,
  "data": {
    "user": { ... },
    "token": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9..."
  }
}
```

##### POST `/auth/login`
ãƒ­ã‚°ã‚¤ãƒ³

**Request Body:**
```json
{
  "email": "user@example.com",
  "password": "password123"
}
```

**Response:**
```json
{
  "success": true,
  "data": {
    "user": { ... },
    "token": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9..."
  }
}
```

##### GET `/auth/me`
ãƒ­ã‚°ã‚¤ãƒ³ãƒ¦ãƒ¼ã‚¶ãƒ¼æƒ…å ±å–å¾—

**Response:**
```json
{
  "success": true,
  "data": {
    "user": { ... }
  }
}
```

#### 2. ç›£è¦–ç³»

##### POST `/monitoring/create`
ç›£è¦–ã‚¿ãƒ¼ã‚²ãƒƒãƒˆä½œæˆ

**Request Body:**
```json
{
  "site": "shinagawa",
  "facilityId": "facility_001",
  "facilityName": "å“å·åŒºãƒ†ãƒ‹ã‚¹ã‚³ãƒ¼ãƒˆ1",
  "date": "2025-12-01",
  "timeSlots": ["09:00-11:00", "11:00-13:00"],
  "priority": 5,
  "periodMode": "weekly",
  "startDate": "2025-12-01",
  "endDate": "2025-12-31",
  "selectedWeekdays": [0, 6],
  "includeHolidays": true,
  "reservationStrategy": "priority"
}
```

**Response:**
```json
{
  "success": true,
  "data": {
    "targetId": "uuid-xxx-xxx"
  }
}
```

##### GET `/monitoring/list`
ç›£è¦–ã‚¿ãƒ¼ã‚²ãƒƒãƒˆä¸€è¦§å–å¾—

**Response:**
```json
{
  "success": true,
  "data": [
    {
      "id": "uuid-xxx-xxx",
      "site": "shinagawa",
      "facilityName": "å“å·åŒºãƒ†ãƒ‹ã‚¹ã‚³ãƒ¼ãƒˆ1",
      "status": "monitoring",
      ...
    }
  ]
}
```

##### DELETE `/monitoring/:targetId`
ç›£è¦–ã‚¿ãƒ¼ã‚²ãƒƒãƒˆå‰Šé™¤

**Response:**
```json
{
  "success": true
}
```

#### 3. è¨­å®šç³»

##### POST `/settings/save`
ãƒ¦ãƒ¼ã‚¶ãƒ¼è¨­å®šä¿å­˜

**Request Body:**
```json
{
  "shinagawa": {
    "username": "user123",
    "password": "pass123",
    "facilities": ["facility_001"]
  },
  "minato": {
    "username": "user456",
    "password": "pass456",
    "facilities": ["facility_002"]
  },
  "notifications": {
    "pushEnabled": true,
    "types": ["vacant_detected", "reservation_success"],
    "pushSubscription": { ... }
  },
  "monitoring": {
    "enabled": true,
    "autoReserve": true
  }
}
```

**Response:**
```json
{
  "success": true
}
```

##### GET `/settings/get`
ãƒ¦ãƒ¼ã‚¶ãƒ¼è¨­å®šå–å¾—

**Response:**
```json
{
  "success": true,
  "data": {
    "shinagawa": { ... },
    "minato": { ... },
    ...
  }
}
```

#### 4. å±¥æ­´ç³»

##### GET `/history/reservations`
äºˆç´„å±¥æ­´å–å¾—

**Query Parameters:**
- `status`: `success` | `failed` | `all` (default: all)

**Response:**
```json
{
  "success": true,
  "data": [
    {
      "id": "uuid-xxx",
      "site": "shinagawa",
      "facilityName": "å“å·åŒºãƒ†ãƒ‹ã‚¹ã‚³ãƒ¼ãƒˆ1",
      "date": "2025-12-01",
      "timeSlot": "09:00-11:00",
      "status": "success",
      "message": "äºˆç´„æˆåŠŸ",
      "createdAt": 1732406400000
    }
  ]
}
```

#### 5. æ–½è¨­ç³»

##### GET `/facilities/:site`
æ–½è¨­ä¸€è¦§å–å¾—

**Parameters:**
- `site`: `shinagawa` | `minato`

**Response:**
```json
{
  "success": true,
  "data": [
    {
      "id": "facility_001",
      "name": "å“å·åŒºãƒ†ãƒ‹ã‚¹ã‚³ãƒ¼ãƒˆ1",
      "site": "shinagawa",
      "type": "tennis",
      "location": "å“å·åŒº"
    }
  ]
}
```

---

## ãƒ‡ãƒ—ãƒ­ã‚¤æƒ…å ±

### ç¾åœ¨ã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³

#### PWA (Frontend)
- **URL**: https://pwa-m5kk1nk9i-kys-projects-ed1892e5.vercel.app
- **Platform**: Vercel
- **Framework**: Next.js 15 (Turbopack)
- **Build**: Production
- **Last Deploy**: 2025-11-24

#### Workers (Backend)
- **URL**: https://tennis-yoyaku-api.kanda02-1203.workers.dev
- **Platform**: Cloudflare Workers
- **Version ID**: `2fbc9278-b343-4ceb-9c00-589c527dac17`
- **Compatibility Date**: 2024-01-01
- **Last Deploy**: 2025-11-24

### Cron Schedule
- **å®Ÿè¡Œé–“éš”**: 5åˆ†æ¯ (`*/5 * * * *`)
- **å®Ÿè¡Œå†…å®¹**:
  1. ã‚¢ã‚¯ãƒ†ã‚£ãƒ–ãªç›£è¦–ã‚¿ãƒ¼ã‚²ãƒƒãƒˆå–å¾—ï¼ˆå…¨ãƒ¦ãƒ¼ã‚¶ãƒ¼åˆ†ï¼‰
  2. å„ªå…ˆåº¦é †ã«ã‚½ãƒ¼ãƒˆï¼ˆå„ªå…ˆåº¦é«˜â†’ä½œæˆæ—¥æ™‚å¤ã„é †ï¼‰
  3. å„ã‚µã‚¤ãƒˆã«ãƒ­ã‚°ã‚¤ãƒ³ï¼ˆã‚»ãƒƒã‚·ãƒ§ãƒ³æœŸé™åˆ‡ã‚Œæ™‚ã®ã¿ï¼‰
  4. ã‚¹ã‚¯ãƒ¬ã‚¤ãƒ”ãƒ³ã‚°å®Ÿè¡Œï¼ˆã‚¿ãƒ¼ã‚²ãƒƒãƒˆã”ã¨ï¼‰
  5. ã‚­ãƒ£ãƒ³ã‚»ãƒ«æ¤œçŸ¥ï¼ˆÃ—â†’â—‹ï¼‰
  6. è‡ªå‹•äºˆç´„å®Ÿè¡Œ
  7. ãƒ—ãƒƒã‚·ãƒ¥é€šçŸ¥é€ä¿¡

**å‡¦ç†ãƒãƒªã‚·ãƒ¼**:
- 1å›ã®Cronå®Ÿè¡Œã§å…¨ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®å…¨ã‚¿ãƒ¼ã‚²ãƒƒãƒˆã‚’å‡¦ç†
- å„ªå…ˆåº¦ã®é«˜ã„ã‚¿ãƒ¼ã‚²ãƒƒãƒˆã‹ã‚‰é †ã«å‡¦ç†
- ã‚¹ãƒ­ãƒƒãƒˆãƒªãƒ³ã‚°: ç¾åœ¨åˆ¶é™ãªã—ï¼ˆå°†æ¥çš„ã«æ¤œè¨ï¼‰
- ã‚¨ãƒ©ãƒ¼æ™‚: æ¬¡ã®ã‚¿ãƒ¼ã‚²ãƒƒãƒˆã¸ç¶™ç¶šï¼ˆå€‹åˆ¥ã‚¿ãƒ¼ã‚²ãƒƒãƒˆã®å¤±æ•—ã§å…¨ä½“åœæ­¢ã—ãªã„ï¼‰

### KV Namespaces
| Namespace | ID | ç”¨é€” |
|-----------|----|----|
| USERS | `2bb51589e95d448abc4f6821a5898865` | ãƒ¦ãƒ¼ã‚¶ãƒ¼æƒ…å ± |
| SESSIONS | `2111997ed58e4f5080074fc0a95cacf0` | ãƒ­ã‚°ã‚¤ãƒ³ã‚»ãƒƒã‚·ãƒ§ãƒ³ |
| MONITORING | `5a8f67abf49546b58f6113e18a5b2443` | ç›£è¦–ã‚¿ãƒ¼ã‚²ãƒƒãƒˆ |
| RESERVATIONS | `6e26433ee30b4ad0bc0a8749a67038be` | äºˆç´„å±¥æ­´ |

### ç’°å¢ƒå¤‰æ•°
| å¤‰æ•°å | èª¬æ˜ |
|--------|------|
| `NEXT_PUBLIC_API_URL` | Workers API URL |
| `JWT_SECRET` | JWTç½²åã‚·ãƒ¼ã‚¯ãƒ¬ãƒƒãƒˆ |
| `ADMIN_KEY` | ç®¡ç†è€…ç™»éŒ²ã‚­ãƒ¼ |
| `VAPID_PUBLIC_KEY` | Web Pushå…¬é–‹éµ |
| `VAPID_PRIVATE_KEY` | Web Pushç§˜å¯†éµ |
| `VAPID_SUBJECT` | Web Pushé€ä¿¡è€…æƒ…å ± |

---

## ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ã¨ãƒ¬ãƒ¼ãƒˆåˆ¶å¾¡

### èªè¨¼ã¨ã‚»ãƒƒã‚·ãƒ§ãƒ³ç®¡ç†
- **JWTèªè¨¼**: æœ‰åŠ¹æœŸé™30æ—¥ã€Authorization ãƒ˜ãƒƒãƒ€ãƒ¼ã§é€ä¿¡
- **ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ä¿å­˜**: âš ï¸ ç¾åœ¨ã¯å¹³æ–‡ã§KVä¿å­˜ï¼ˆå°†æ¥çš„ã«AES-256æš—å·åŒ–ã‚’å®Ÿè£…äºˆå®šï¼‰
- **æ–½è¨­äºˆç´„ã‚µã‚¤ãƒˆã®ã‚»ãƒƒã‚·ãƒ§ãƒ³**: JSESSIONID ã‚’KVã§ç®¡ç†ï¼ˆ30åˆ†TTLï¼‰

### ãƒ¬ãƒ¼ãƒˆåˆ¶å¾¡
- **äºˆç´„ä¸Šé™è¨­å®š**: ãƒ¦ãƒ¼ã‚¶ãƒ¼ã”ã¨ã«é€±/æœˆã®äºˆç´„å›æ•°ä¸Šé™ã‚’è¨­å®šå¯èƒ½
  - `settings.reservationLimits.perWeek`: é€±ã‚ãŸã‚Šã®ä¸Šé™
  - `settings.reservationLimits.perMonth`: æœˆã‚ãŸã‚Šã®ä¸Šé™
- **ç›£è¦–ã‚¿ãƒ¼ã‚²ãƒƒãƒˆæ•°**: ç¾åœ¨åˆ¶é™ãªã—ï¼ˆå°†æ¥çš„ã«æ¤œè¨ï¼‰

### ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°
- **ã‚¹ã‚¯ãƒ¬ã‚¤ãƒ”ãƒ³ã‚°å¤±æ•—**: ã‚¨ãƒ©ãƒ¼ãƒ­ã‚°å‡ºåŠ›ã€æ¬¡ã®ã‚¿ãƒ¼ã‚²ãƒƒãƒˆã¸ç¶™ç¶š
- **ãƒ­ã‚°ã‚¤ãƒ³å¤±æ•—**: ã‚»ãƒƒã‚·ãƒ§ãƒ³å‰Šé™¤ã€æ¬¡å›Cronã§å†è©¦è¡Œ
- **äºˆç´„å¤±æ•—**: `ReservationHistory.status = 'failed'` ã«è¨˜éŒ²
- **ãƒªãƒˆãƒ©ã‚¤**: ç¾åœ¨ã¯1å›ã®ã¿ï¼ˆå°†æ¥çš„ã«è¤‡æ•°å›ãƒªãƒˆãƒ©ã‚¤ã‚’æ¤œè¨ï¼‰

### Workers Secretsï¼ˆæœ¬ç•ªç’°å¢ƒï¼‰
```
JWT_SECRET: JWTç½²åç”¨ã‚·ãƒ¼ã‚¯ãƒ¬ãƒƒãƒˆã‚­ãƒ¼
ADMIN_KEY: ç®¡ç†è€…ç™»éŒ²ã‚­ãƒ¼ï¼ˆ"tennis_admin_2025"ï¼‰
VAPID_PUBLIC_KEY: Web Push å…¬é–‹éµ
VAPID_PRIVATE_KEY: Web Push ç§˜å¯†éµ
VAPID_SUBJECT: Web Push é€ä¿¡è€…æƒ…å ±
```

---

## é–‹ç™ºç’°å¢ƒ

### ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—

#### 1. ãƒªãƒã‚¸ãƒˆãƒªã‚¯ãƒ­ãƒ¼ãƒ³
```bash
git clone https://github.com/youshi-kanda/tennis_yoyaku.git
cd tennis_yoyaku
```

#### 2. PWA ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—
```bash
cd pwa
npm install
cp .env.local.example .env.local
# .env.localã‚’ç·¨é›†
npm run dev
```

#### 3. Workers ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—
```bash
cd workers
npm install
# wrangler.tomlã®ç’°å¢ƒå¤‰æ•°ã‚’è¨­å®š
npx wrangler dev
```

### ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªæ§‹é€ 
```
tennis_yoyaku/
â”œâ”€â”€ pwa/                          # Next.js PWA
â”‚   â”œâ”€â”€ app/                      # App Router
â”‚   â”‚   â”œâ”€â”€ page.tsx              # ãƒ­ã‚°ã‚¤ãƒ³ãƒšãƒ¼ã‚¸
â”‚   â”‚   â”œâ”€â”€ register/             # ç™»éŒ²ãƒšãƒ¼ã‚¸
â”‚   â”‚   â”œâ”€â”€ dashboard/            # ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰
â”‚   â”‚   â”‚   â”œâ”€â”€ layout.tsx        # ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆ
â”‚   â”‚   â”‚   â”œâ”€â”€ monitoring/       # ç›£è¦–è¨­å®šãƒšãƒ¼ã‚¸
â”‚   â”‚   â”‚   â”œâ”€â”€ history/          # å±¥æ­´ãƒšãƒ¼ã‚¸
â”‚   â”‚   â”‚   â””â”€â”€ settings/         # è¨­å®šãƒšãƒ¼ã‚¸
â”‚   â”‚   â””â”€â”€ admin/                # ç®¡ç†ç”»é¢
â”‚   â”œâ”€â”€ components/               # ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ
â”‚   â”œâ”€â”€ lib/
â”‚   â”‚   â”œâ”€â”€ api/                  # APIã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆ
â”‚   â”‚   â”œâ”€â”€ hooks/                # ã‚«ã‚¹ã‚¿ãƒ ãƒ•ãƒƒã‚¯
â”‚   â”‚   â”œâ”€â”€ stores/               # Zustand ã‚¹ãƒˆã‚¢
â”‚   â”‚   â”œâ”€â”€ types/                # å‹å®šç¾©
â”‚   â”‚   â””â”€â”€ utils/                # ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£
â”‚   â”œâ”€â”€ public/
â”‚   â”‚   â”œâ”€â”€ manifest.json         # PWAãƒãƒ‹ãƒ•ã‚§ã‚¹ãƒˆ
â”‚   â”‚   â”œâ”€â”€ service-worker.js     # Service Worker
â”‚   â”‚   â””â”€â”€ icons/                # ã‚¢ãƒ—ãƒªã‚¢ã‚¤ã‚³ãƒ³
â”‚   â””â”€â”€ package.json
â”œâ”€â”€ workers/                      # Cloudflare Workers
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ index.ts              # ãƒ¡ã‚¤ãƒ³ã‚¨ãƒ³ãƒˆãƒªãƒã‚¤ãƒ³ãƒˆ
â”‚   â”‚   â”œâ”€â”€ auth.ts               # èªè¨¼ãƒ­ã‚¸ãƒƒã‚¯
â”‚   â”‚   â””â”€â”€ scraper.ts            # ã‚¹ã‚¯ãƒ¬ã‚¤ãƒ”ãƒ³ã‚°ãƒ­ã‚¸ãƒƒã‚¯
â”‚   â”œâ”€â”€ wrangler.toml             # Workersè¨­å®š
â”‚   â””â”€â”€ package.json
â”œâ”€â”€ SYSTEM_OVERVIEW.md            # ã“ã®ãƒ•ã‚¡ã‚¤ãƒ«
â”œâ”€â”€ SPECIFICATION.md              # è©³ç´°ä»•æ§˜æ›¸
â”œâ”€â”€ PROJECT_PLAN.md               # ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆè¨ˆç”»
â””â”€â”€ README.md                     # ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆREADME
```

### ãƒ“ãƒ«ãƒ‰ & ãƒ‡ãƒ—ãƒ­ã‚¤

#### PWA
```bash
cd pwa
npm run build           # ãƒ“ãƒ«ãƒ‰
npx vercel --prod       # Vercelã«ãƒ‡ãƒ—ãƒ­ã‚¤
```

#### Workers
```bash
cd workers
npx wrangler deploy --compatibility-date=2024-01-01
```

### ãƒ­ãƒ¼ã‚«ãƒ«é–‹ç™º

#### PWAé–‹ç™ºã‚µãƒ¼ãƒãƒ¼
```bash
cd pwa
npm run dev
# http://localhost:3000
```

#### Workersé–‹ç™ºã‚µãƒ¼ãƒãƒ¼
```bash
cd workers
npx wrangler dev
# http://localhost:8787
```

### ãƒ†ã‚¹ãƒˆ
```bash
# PWA
cd pwa
npm run lint            # ESLint
npm run type-check      # TypeScriptå‹ãƒã‚§ãƒƒã‚¯

# Workers
cd workers
npm run test            # ãƒ†ã‚¹ãƒˆå®Ÿè¡Œï¼ˆæœªå®Ÿè£…ï¼‰
```

---

## æœ€æ–°ã®æ”¹å–„ç‚¹

### Phase 1: ã‚¦ã‚£ã‚¶ãƒ¼ãƒ‰UIå®Ÿè£… (2025-11-24 å®Œäº†)
- âœ… 3ã‚¹ãƒ†ãƒƒãƒ—ã‚¦ã‚£ã‚¶ãƒ¼ãƒ‰å½¢å¼ã«å¤‰æ›´
- âœ… ãƒ—ãƒ­ã‚°ãƒ¬ã‚¹ãƒãƒ¼è¡¨ç¤º
- âœ… ã‚¹ãƒ†ãƒƒãƒ—ã”ã¨ã®ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³
- âœ… ç›£è¦–é–‹å§‹å¾Œã«è‡ªå‹•ã§ã‚¦ã‚£ã‚¶ãƒ¼ãƒ‰ã‚’é–‰ã˜ã‚‹

### Phase 2: ç¥æ—¥å¯¾å¿œ (2025-11-23 å®Œäº†)
- âœ… ç¥æ—¥åˆ¤å®šãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«è¿½åŠ 
- âœ… ç¥æ—¥è¨­å®šUIå®Ÿè£…
- âœ… ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰å¯¾å¿œ

### ãƒã‚°ä¿®æ­£å±¥æ­´
- âœ… ç›£è¦–ä½œæˆæ™‚ã«`selectedWeekdays`ã¨`includeHolidays`ãŒä¿å­˜ã•ã‚Œãªã„å•é¡Œã‚’ä¿®æ­£
- âœ… è¨­å®šä¿å­˜æ™‚ã«å“å·åŒºãƒ»æ¸¯åŒºã®ãƒ­ã‚°ã‚¤ãƒ³æƒ…å ±ãŒä¸Šæ›¸ãã•ã‚Œã‚‹å•é¡Œã‚’ä¿®æ­£ï¼ˆãƒãƒ¼ã‚¸å‡¦ç†è¿½åŠ ï¼‰
- âœ… TypeScriptã®`any`å‹ã‚¨ãƒ©ãƒ¼ã‚’ä¿®æ­£ï¼ˆå‹å®‰å…¨æ€§å‘ä¸Šï¼‰
- âœ… Effectå†…ã®setStateè­¦å‘Šã‚’ä¿®æ­£
- âœ… Service Workerã®POSTãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚¨ãƒ©ãƒ¼ã‚’ä¿®æ­£

---

## ä»Šå¾Œã®æ‹¡å¼µäºˆå®š

### çŸ­æœŸ (1-2é€±é–“)
- [ ] è¨­å®šãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼ã‚µã‚¤ãƒ‰ãƒãƒ¼å®Ÿè£…
- [ ] ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°å¼·åŒ–
- [ ] ãƒ¦ãƒ‹ãƒƒãƒˆãƒ†ã‚¹ãƒˆè¿½åŠ 
- [ ] E2Eãƒ†ã‚¹ãƒˆå°å…¥

### ä¸­æœŸ (1-2ãƒ¶æœˆ)
- [ ] ä»–ã®è‡ªæ²»ä½“ã‚µã‚¤ãƒˆå¯¾å¿œ
- [ ] äºˆç´„çŠ¶æ³ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰
- [ ] çµ±è¨ˆãƒ»åˆ†ææ©Ÿèƒ½
- [ ] ãƒ¡ãƒ¼ãƒ«é€šçŸ¥è¿½åŠ 

### é•·æœŸ (3ãƒ¶æœˆä»¥é™)
- [ ] ãƒ¢ãƒã‚¤ãƒ«ã‚¢ãƒ—ãƒªåŒ– (React Native)
- [ ] è¤‡æ•°ãƒ¦ãƒ¼ã‚¶ãƒ¼å”èª¿äºˆç´„
- [ ] AIäºˆæ¸¬æ©Ÿèƒ½ï¼ˆç©ºãäºˆæ¸¬ï¼‰
- [ ] æ–™é‡‘ç®¡ç†æ©Ÿèƒ½

---

## ã‚µãƒãƒ¼ãƒˆ & ã‚³ãƒ³ãƒˆãƒªãƒ“ãƒ¥ãƒ¼ã‚·ãƒ§ãƒ³

### ãƒã‚°å ±å‘Š
GitHubã®Issueã§å ±å‘Šã—ã¦ãã ã•ã„

### é–‹ç™ºè€…
- **ãƒ¡ã‚¤ãƒ³é–‹ç™ºè€…**: Youshi Kanda
- **é€£çµ¡å…ˆ**: youshi.kanda@example.com

### ãƒ©ã‚¤ã‚»ãƒ³ã‚¹
MIT License

---

**æœ€çµ‚æ›´æ–°**: 2025å¹´11æœˆ24æ—¥  
**ãƒãƒ¼ã‚¸ãƒ§ãƒ³**: 1.2.0  
**Workers Version**: `2fbc9278-b343-4ceb-9c00-589c527dac17`
